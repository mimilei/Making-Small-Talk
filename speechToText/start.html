<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1>Speech to text example</h1>
    <input type="button" value="Click me to start voice recognition"
      onclick="startRecognition()">
      <div id="textContainer"></div>
  </body>
  <script>
    if ('webkitSpeechRecognition' in window) {
      console.log("Speech recognition available");
    } else {
      alert("WON'T WORK -- MISSING SPEECH RECOGNITION");
    }

    var recognition = new webkitSpeechRecognition();
    recognition.continuous = true;
    recognition.interimResults = true; // Get info, even if isn't full sentence

    recognition.onresult = function(event) {
      console.log(event);
      var newParagraph = document.createElement('p');
      newParagraph.innerHTML = event.results[0][0].transcript;
      document.body.appendChild(newParagraph);
    }

    function startRecognition() {
      recognition.start();
    }
  </script>
</html>
